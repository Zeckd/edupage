<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å - EduPage</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/admin.css">
</head>
<body>
    <div class="dashboard">
        <div class="sidebar">
            <h2>EduPage</h2>
            <nav>
                <ul>
                    <li><a href="#" onclick="showSection('dashboard')" class="active">–î–∞—à–±–æ—Ä–¥</a></li>
                    <li><a href="#" onclick="showSection('users')">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</a></li>
                    <li><a href="#" onclick="showSection('register')">–°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</a></li>
                    <li><a href="#" onclick="showSection('students')">–£—á–µ–Ω–∏–∫–∏</a></li>
                    <li><a href="#" onclick="showSection('teachers')">–£—á–∏—Ç–µ–ª—è</a></li>
                    <li><a href="#" onclick="showSection('groups')">–ì—Ä—É–ø–ø—ã</a></li>
                    <li><a href="#" onclick="showSection('subjects')">–ü—Ä–µ–¥–º–µ—Ç—ã</a></li>
                    <li><a href="#" onclick="showSection('assignments')">–ù–∞–∑–Ω–∞—á–µ–Ω–∏—è</a></li>
                    <li><a href="#" onclick="showSection('notifications')">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</a></li>
                    <li><a href="#" onclick="logout()">–í—ã—Ö–æ–¥</a></li>
                </ul>
            </nav>
        </div>
        <div class="main-content">
            <div class="header">
                <h1>–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</h1>
                <div class="user-info">
                    <span id="userName"></span>
                    <div class="notification-bell" onclick="showNotifications()">
                        üîî
                        <span class="notification-badge" id="notificationBadge" style="display: none;">0</span>
                    </div>
                    <button class="btn btn-secondary" onclick="logout()">–í—ã—Ö–æ–¥</button>
                </div>
            </div>

            <!-- Dashboard Section -->
            <div id="dashboard-section" class="section">
                <div class="stats-grid">
                    <div class="stat-card">
                        <h4>–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h4>
                        <div class="value" id="statUsers">0</div>
                    </div>
                    <div class="stat-card">
                        <h4>–£—á–µ–Ω–∏–∫–æ–≤</h4>
                        <div class="value" id="statStudents">0</div>
                    </div>
                    <div class="stat-card">
                        <h4>–£—á–∏—Ç–µ–ª–µ–π</h4>
                        <div class="value" id="statTeachers">0</div>
                    </div>
                    <div class="stat-card">
                        <h4>–ì—Ä—É–ø–ø</h4>
                        <div class="value" id="statGroups">0</div>
                    </div>
                </div>
            </div>

            <!-- Users Section -->
            <div id="users-section" class="section" style="display: none;">
                <div class="card">
                    <h3>–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</th>
                                <th>–ò–º—è</th>
                                <th>–§–∞–º–∏–ª–∏—è</th>
                                <th>Email</th>
                                <th>–†–æ–ª—å</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody"></tbody>
                    </table>
                </div>
            </div>

            <!-- Register Section -->
            <div id="register-section" class="section" style="display: none;">
                <div class="card">
                    <h3>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>
                    <form id="registerForm">
                        <div class="form-group">
                            <label>–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                            <input type="text" id="regUsername" required>
                        </div>
                        <div class="form-group">
                            <label>–ü–∞—Ä–æ–ª—å</label>
                            <input type="password" id="regPassword" required>
                        </div>
                        <div class="form-group">
                            <label>–ò–º—è</label>
                            <input type="text" id="regFirstName" required>
                        </div>
                        <div class="form-group">
                            <label>–§–∞–º–∏–ª–∏—è</label>
                            <input type="text" id="regLastName" required>
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="regEmail" required>
                        </div>
                        <div class="form-group">
                            <label>–†–æ–ª—å</label>
                            <select id="regRole" required onchange="toggleRoleFields()">
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å</option>
                                <option value="STUDENT">–£—á–µ–Ω–∏–∫</option>
                                <option value="TEACHER">–£—á–∏—Ç–µ–ª—å</option>
                                <option value="ADMIN">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</option>
                            </select>
                        </div>
                        <div class="form-group" id="groupIdGroup" style="display: none;">
                            <label>–ì—Ä—É–ø–ø–∞</label>
                            <select id="regGroupId"></select>
                        </div>
                        <button type="submit" class="btn btn-success">–°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</button>
                        <div id="registerErrorMessage" class="error-message"></div>
                    </form>
                </div>
            </div>

            <!-- Students Section -->
            <div id="students-section" class="section" style="display: none;">
                <div class="card">
                    <h3>–£—á–µ–Ω–∏–∫–∏</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>–ò–º—è</th>
                                <th>–§–∞–º–∏–ª–∏—è</th>
                                <th>–ì—Ä—É–ø–ø–∞</th>
                                <th>Email</th>
                            </tr>
                        </thead>
                        <tbody id="studentsTableBody"></tbody>
                    </table>
                </div>
            </div>

            <!-- Teachers Section -->
            <div id="teachers-section" class="section" style="display: none;">
                <div class="card">
                    <h3>–£—á–∏—Ç–µ–ª—è</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>–ò–º—è</th>
                                <th>–§–∞–º–∏–ª–∏—è</th>
                                <th>Email</th>
                                <th>–î–∞—Ç–∞ –Ω–∞–π–º–∞</th>
                            </tr>
                        </thead>
                        <tbody id="teachersTableBody"></tbody>
                    </table>
                </div>
            </div>

            <!-- Groups Section -->
            <div id="groups-section" class="section" style="display: none;">
                <div class="card">
                    <h3>–ì—Ä—É–ø–ø—ã</h3>
                    <button class="btn btn-success" onclick="showAddGroupModal()">–î–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–ø–ø—É</button>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="groupsTableBody"></tbody>
                    </table>
                </div>
            </div>

            <!-- Subjects Section -->
            <div id="subjects-section" class="section" style="display: none;">
                <div class="card">
                    <h3>–ü—Ä–µ–¥–º–µ—Ç—ã</h3>
                    <button class="btn btn-success" onclick="showAddSubjectModal()">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç</button>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="subjectsTableBody"></tbody>
                    </table>
                </div>
            </div>

            <!-- Assignments Section -->
            <div id="assignments-section" class="section" style="display: none;">
                <div class="card">
                    <h3>–ù–∞–∑–Ω–∞—á–∏—Ç—å —É—á–∏—Ç–µ–ª—è –≥—Ä—É–ø–ø–µ</h3>
                    <form id="assignmentForm">
                        <div class="form-group">
                            <label>–£—á–∏—Ç–µ–ª—å</label>
                            <select id="assignmentTeacher" required></select>
                        </div>
                        <div class="form-group">
                            <label>–ü—Ä–µ–¥–º–µ—Ç</label>
                            <select id="assignmentSubject" required></select>
                        </div>
                        <div class="form-group">
                            <label>–ì—Ä—É–ø–ø–∞</label>
                            <select id="assignmentGroup" required></select>
                        </div>
                        <button type="submit" class="btn btn-success">–ù–∞–∑–Ω–∞—á–∏—Ç—å</button>
                    </form>
                </div>
            </div>

            <!-- Notifications Section -->
            <div id="notifications-section" class="section" style="display: none;">
                <div class="card">
                    <h3>–û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</h3>
                    <form id="notificationForm">
                        <div class="form-group">
                            <label>–°–æ–æ–±—â–µ–Ω–∏–µ</label>
                            <textarea id="notificationMessage" rows="4" required placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"></textarea>
                        </div>
                        <div class="form-group">
                            <label>–ö–æ–º—É –æ—Ç–ø—Ä–∞–≤–∏—Ç—å</label>
                            <select id="notificationType" onchange="toggleNotificationFields()" required>
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø</option>
                                <option value="role">–í—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Ä–æ–ª–∏</option>
                                <option value="user">–ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é</option>
                                <option value="group">–í—Å–µ–º —É—á–µ–Ω–∏–∫–∞–º –≥—Ä—É–ø–ø—ã</option>
                            </select>
                        </div>
                        <div class="form-group" id="notificationRoleGroup" style="display: none;">
                            <label>–†–æ–ª—å</label>
                            <select id="notificationRole">
                                <option value="STUDENT">–£—á–µ–Ω–∏–∫–∏</option>
                                <option value="TEACHER">–£—á–∏—Ç–µ–ª—è</option>
                                <option value="ADMIN">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã</option>
                            </select>
                        </div>
                        <div class="form-group" id="notificationUserGroup" style="display: none;">
                            <label>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</label>
                            <select id="notificationUser"></select>
                        </div>
                        <div class="form-group" id="notificationGroupGroup" style="display: none;">
                            <label>–ì—Ä—É–ø–ø–∞</label>
                            <select id="notificationGroup"></select>
                        </div>
                        <button type="submit" class="btn btn-success">–û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div id="addGroupModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('addGroupModal')">&times;</span>
            <h2>–î–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–ø–ø—É</h2>
            <form id="addGroupForm">
                <div class="form-group">
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã</label>
                    <input type="text" id="groupName" required>
                </div>
                <button type="submit" class="btn btn-success">–°–æ–∑–¥–∞—Ç—å</button>
            </form>
        </div>
    </div>

    <div id="addSubjectModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('addSubjectModal')">&times;</span>
            <h2>–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç</h2>
            <form id="addSubjectForm">
                <div class="form-group">
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞</label>
                    <input type="text" id="subjectName" required>
                </div>
                <button type="submit" class="btn btn-success">–°–æ–∑–¥–∞—Ç—å</button>
            </form>
        </div>
    </div>

    <script src="/js/common.js"></script>
    <script src="/js/admin.js"></script>
</body>
</html>

